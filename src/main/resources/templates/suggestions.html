<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Community </title>
    <!-- ------------------Custom Css link -->
    <link rel="stylesheet" href="./Assets/Fstyle.css">
    <!-- ----Font Awesome  -->
    <link rel="stylesheet" href="./fontawesome-free-6.3.0-web/css/all.css">

    <!-- -------Swiper Slider Link------ -->

    <link rel="stylesheet" href="./Assets/Swiper/swiper-bundle.min.css">

</head>

<body>


    <!-- ..................Start Navbar...................... -->
    <nav>
        <div class="container nav-container">
            <div class="logo">
                <h3>Community <span>Forum</span></h3>
            </div>
            <div class="serch-bar">
                <i class="fa fa-search"></i>
                <input type="search" name="" id="search" placeholder="Search For Creators">
            </div>
            <div class="add-post">
                <label for="add-post" class="btn btn-primary">Add Post</label>
                <div class="profile-picture" id="my-profile-picture">
                    <img src="./Assets/images/img/profile-1.jpeg" alt="">
                </div>
            </div>
        </div>
    </nav>
    <!-- ...................Start Navbar................... -->


    <!-- ...................Start Main Session...................-->
    <main>
        <div class="container main-container">

            <!-- ...........Main Left Start......... -->
            <div class="main-left">

                <!--..................... Profile Start.............. -->
                <a class="profile">
                    
                    <div class="profile-handle">
                        <h2>Friends</h2>
                        
                    </div>
                </a>

                <!--..................... Profile End.............. -->

                <!-- ............Start Aside Bar............... -->
                <aside>
                    <a class="menu-item" href="home">
                        <span>
                            <img src="./Assets/images/svg/house-door.svg" alt="">
                        </span>
                        <h3>Home</h3>
                    </a>

                    <a class="menu-item" href="friends">
                        <span>
                            <img src="./Assets/images/svg/reshot-icon-user-arrow-right-4N3DKYSTC8.svg" alt="">
                        </span>
                        <h3>Friend Requests</h3>
                    </a>

                   

                    <a class="menu-item" href="allFriends">
                        <span>
                            <img src="./Assets/images/svg/reshot-icon-user-information-6254SPQUFY.svg" alt="">
                        </span>
                        <!-- <small class="notfy-counter">3</small> -->
                        <h3>All Friends</h3>
                    </a>

                    <a class="menu-item" href="suggestions">
                        <span>
                            <img src="./Assets/images/svg/add-friend-svgrepo-com (1).svg" alt="">
                        </span>
                        <h3>Suggestions</h3>
                    </a>
                    <!-- ..........Add Post Btn...........-->
                    <label for="add-post" class="btn btn-primary btn-lg"><a href="profile.html" style="text-decoration: none; color: aliceblue; font-weight: bolder;">View Profile Details</a></label>

                </aside>

                <!-- ............End Aside Bar............... -->

            </div>
            <!-- ...........Main Left End......... -->



            <!--======================Main Middle Start====================== -->

            <div class="main-middle" id="fof">

<!--                <div class="middle-container" id="fof">-->
<!--                    <img src="./Assets/images/img/profile-1.jpeg" alt="">-->
<!--                    <div class="card-content">-->
<!--                        <h4>Name</h4>-->
<!--                         &lt;!&ndash; -&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;Liked by&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; &ndash;&gt;-->
<!--                         <div class="liked-by">-->
<!--                            <span>-->
<!--                                <img src="./Assets/images/img/n2.png" alt="">-->
<!--                            </span>-->

<!--                            <span>-->
<!--                                <img src="./Assets/images/img/n3.png" alt="">-->
<!--                            </span>-->

<!--                            <p> <b>2</b> mutal friends</p>-->
<!--                        </div>-->
<!--                        <a class="btn-confirm" href="#">Confirm</a>-->
<!--                        <a class="btn-delete" href="#">Delete</a>-->
<!--                    </div>-->
<!--                </div>-->
            </div>
            <!-- ======================Main Middle End======================-->

            <!-- ...........Main Right Start......... -->
            





        </div>
    </main>
    <!-- ...................End Main Session................... -->




    <!-- -----------------------Start PopUps Aria----------------- -->
    <!-- ----------Start Profile-Popup------------- -->
    <div class="popup profile-popup">
        <div>
            <div class="popup-box profile-popup-box">
                <h1>Aung Khaing Moe</h1>
                <p>@aungkhaingmoe</p>
                <div id="my-profile-picture">
                    <img src="./Assets/images/img/profile-1.jpeg">
                </div>
                <label for="profile-upload" class="btn btn-primary btn-lg"><a href="profile.html" style="text-decoration: none; color: aliceblue; font-weight: bolder;">View Profile Details</a></label>
                <!-- <input type="file" name="" accept="image/jpg , image/png, image/jpep" id="profile-upload"> -->
                <button class="btn btn-primary btn-lg">Log Out</button>
            </div>
            <span class="close"><i class="fa fa-close"></i></span>
        </div>
    </div>
    <!-- ----------End Profile-Popup------------- -->

    <!-- -----------------------End PopUps Aria----------------- -->


    <!-- ----------------Swiper JS---------------------- -->


<!--    //friend of friend-->

    <script src="assests/js/jquery.min.js"></script>
    <script>
        var id=sessionStorage.getItem("id");
        $.get('/friend/friends-of-friends', { userId: id }, function(response) {
            if (Array.isArray(response)) {
                var usersContainer = $('#fof');
                usersContainer.empty(); // Clear any existing content

                response.forEach(function(user) {
                    console.log(user);



                    var userDiv = `
                     <div class="middle-container">
                  <div class="friend-profile" style="width: 100%;height: 56%;background-size: cover;background-repeat: no-repeat;background-position: unset; border: #0b5ed7;background-image: url('/files/${user.profile}')">
                   </div>
                    <div class="card-content" onclick="window.location.href='profile?otheremail=${user.email}&otherid=${user.id}'">
                        <h4>${user.name}</h4>
                         <!-- -----------------Liked by-------------- -->

                    </div>
                </div>
                    `;

                    usersContainer.append(userDiv);
                });
                console.log("success");
            } else {
                console.log('Response is not an array:', response);
            }
        }).fail(function(xhr, status, error) {
            alert('Request failed: ' + error);
        });

        function addFunc(userId){
            $.get('/friend/requestFriend', { sender: id, receiver:userId }, function(response) {
                // $('#btn-'+userId+'').text("Cancel Request");
                // $('#btn-'+userId+'').attr('onclick','cancelFunc('+userId+')');
            }).fail(function(xhr, status, error) {
                alert('Request failed: ' + error);
            });
        }

    </script>


    <script>
        var swiper = new Swiper(".mySwiper", {
            slidesPerView: 8,
            spaceBetween: 10,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
            direction: 'horizontal', // Ensures horizontal sliding
        });
    </script>

    <!--serch-->
    <script>
        document.getElementById('search').addEventListener('keydown', function (event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevent the default action (form submission)
                // Perform your action here
                const searchValue = event.target.value;
                console.log('Search value:', searchValue);
                // You can call a function or redirect to a search results page, for example
                window.location.href = `/search?query=${searchValue}`;
            }
        });
    </script>
    <!--serch-->

    <script src="./Assets/Swiper/swiper-bundle.min.js"></script>
    <!-- Custom Js Link -->
    <script src="./Assets/Script.js"></script>
</body>

</html>