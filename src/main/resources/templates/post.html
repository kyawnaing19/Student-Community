<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Post Box</title>
  <link rel="stylesheet" href="./Assets/postStyle.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
  <style>
    /* Hide the file input */
    #file-input {
      display: none;
    }
    /* Style for the image preview */
    .image-preview {
      margin-top: 10px;
      max-width: 100%;
      max-height: 300px;
      display: none; /* Initially hidden */
    }
    .image-containers {
      width: 100%;
      text-align: center;
    }
    .image-containers img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
    }
  </style>
</head>
<body>
<div class="containers">
  <div class="wrapper">
    <section class="post">
      <header>Create Post</header>
      <form action="/submitPost" method="POST" enctype="multipart/form-data">
        <div class="content">
          <img src="./Assets/icons/logo.png" alt="logo">
          <div class="details">
            <p>Student Community</p>
            <div class="privacy">
              <i class="fas fa-user-friends"></i>
              <span>Friends</span>
              <i class="fas fa-caret-down"></i>
            </div>
          </div>
        </div>
        <textarea name="content" placeholder="What's on your mind, Aung?" spellcheck="false" required></textarea>
        <div class="image-containers">
          <img id="image-preview" class="image-preview" src="" alt="Image Preview">
        </div>
        <div class="theme-emoji">
          <img src="./Assets/icons/theme.svg" alt="theme">
          <img src="./Assets/icons/smile.svg" alt="smile">
        </div>
        <div class="options">
          <p>Add to Your Post</p>
          <ul class="list">
            <li id="file-icon"><img src="./Assets/icons/gallery.svg" alt="gallery"></li>
            <li><img src="./Assets/icons/tag.svg" alt="tag"></li>
            <li><img src="./Assets/icons/emoji.svg" alt="emoji"></li>
            <li><img src="./Assets/icons/mic.svg" alt="mic"></li>
            <li><img src="./Assets/icons/more.svg" alt="more"></li>
          </ul>
        </div>
        <input type="file" id="file-input" name="file" accept="image/*">
        <button type="submit">Post</button>
      </form>
    </section>
    <section class="audience">
      <header>
        <div class="arrow-back"><i class="fas fa-arrow-left"></i></div>
        <p>Select Audience</p>
      </header>
      <div class="content">
        <p>Who can see your post?</p>
        <span>Your post will show up in News Feed, on your profile and in search results.</span>
      </div>
      <ul class="list">
        <li>
          <div class="column">
            <div class="icon"><i class="fas fa-globe-asia"></i></div>
            <div class="details">
              <p>Public</p>
              <span>Anyone on or off Facebook</span>
            </div>
          </div>
          <div class="radio"></div>
        </li>
        <li class="active">
          <div class="column">
            <div class="icon"><i class="fas fa-user-friends"></i></div>
            <div class="details">
              <p>Friends</p>
              <span>Your friends on Facebook</span>
            </div>
          </div>
          <div class="radio"></div>
        </li>
        <li>
          <div class="column">
            <div class="icon"><i class="fas fa-user"></i></div>
            <div class="details">
              <p>Specific</p>
              <span>Only show to some friends</span>
            </div>
          </div>
          <div class="radio"></div>
        </li>
        <li>
          <div class="column">
            <div class="icon"><i class="fas fa-lock"></i></div>
            <div class="details">
              <p>Only me</p>
              <span>Only you can see your post</span>
            </div>
          </div>
          <div class="radio"></div>
        </li>
        <li>
          <div class="column">
            <div class="icon"><i class="fas fa-cog"></i></div>
            <div class="details">
              <p>Custom</p>
              <span>Include and exclude friends</span>
            </div>
          </div>
          <div class="radio"></div>
        </li>
      </ul>
    </section>
  </div>
</div>

<script>
  const containers = document.querySelector(".containers"),
          privacy = containers.querySelector(".post .privacy"),
          arrowBack = containers.querySelector(".audience .arrow-back"),
          fileIcon = document.getElementById('file-icon'),
          fileInput = document.getElementById('file-input'),
          imagePreview = document.getElementById('image-preview');

  privacy.addEventListener("click", () => {
    containers.classList.add("active");
  });

  arrowBack.addEventListener("click", () => {
    containers.classList.remove("active");
  });

  fileIcon.addEventListener('click', () => {
    fileInput.click();
  });

  fileInput.addEventListener('change', () => {
    const file = fileInput.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = (e) => {
        imagePreview.src = e.target.result;
        imagePreview.style.display = 'block';
      }
      reader.readAsDataURL(file);
    }
  });
</script>
</body>
</html>
